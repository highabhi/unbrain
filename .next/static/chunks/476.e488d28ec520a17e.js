"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[476],{4476:function(e,r,i){i.d(r,{DotLottieAudio:function(){return _}});var a=i(3012),s=(0,a.a)(e=>{var r,a,s,u,_,d,l,c,p,f,h,v,A,g;(r=function(){this.init()}).prototype={init:function(){var e=this||a;return e._counter=1e3,e._html5AudioPool=[],e.html5PoolSize=10,e._codecs={},e._howls=[],e._muted=!1,e._volume=1,e._canPlayEvent="canplaythrough",e._navigator="u">typeof window&&window.navigator?window.navigator:null,e.masterGain=null,e.noAudio=!1,e.usingWebAudio=!0,e.autoSuspend=!0,e.ctx=null,e.autoUnlock=!0,e._setup(),e},volume:function(e){var r=this||a;if(e=parseFloat(e),r.ctx||f(),"u">typeof e&&e>=0&&e<=1){if(r._volume=e,r._muted)return r;r.usingWebAudio&&r.masterGain.gain.setValueAtTime(e,a.ctx.currentTime);for(var i=0;i<r._howls.length;i++)if(!r._howls[i]._webAudio)for(var s=r._howls[i]._getSoundIds(),u=0;u<s.length;u++){var _=r._howls[i]._soundById(s[u]);_&&_._node&&(_._node.volume=_._volume*e)}return r}return r._volume},mute:function(e){var r=this||a;r.ctx||f(),r._muted=e,r.usingWebAudio&&r.masterGain.gain.setValueAtTime(e?0:r._volume,a.ctx.currentTime);for(var i=0;i<r._howls.length;i++)if(!r._howls[i]._webAudio)for(var s=r._howls[i]._getSoundIds(),u=0;u<s.length;u++){var _=r._howls[i]._soundById(s[u]);_&&_._node&&(_._node.muted=!!e||_._muted)}return r},stop:function(){for(var e=this||a,r=0;r<e._howls.length;r++)e._howls[r].stop();return e},unload:function(){for(var e=this||a,r=e._howls.length-1;r>=0;r--)e._howls[r].unload();return e.usingWebAudio&&e.ctx&&"u">typeof e.ctx.close&&(e.ctx.close(),e.ctx=null,f()),e},codecs:function(e){return(this||a)._codecs[e.replace(/^x-/,"")]},_setup:function(){var e=this||a;if(e.state=e.ctx&&e.ctx.state||"suspended",e._autoSuspend(),!e.usingWebAudio){if("u">typeof Audio)try{var r=new Audio;typeof r.oncanplaythrough>"u"&&(e._canPlayEvent="canplay")}catch{e.noAudio=!0}else e.noAudio=!0}try{var r=new Audio;r.muted&&(e.noAudio=!0)}catch{}return e.noAudio||e._setupCodecs(),e},_setupCodecs:function(){var e=this||a,r=null;try{r="u">typeof Audio?new Audio:null}catch{return e}if(!r||"function"!=typeof r.canPlayType)return e;var i=r.canPlayType("audio/mpeg;").replace(/^no$/,""),s=e._navigator?e._navigator.userAgent:"",u=s.match(/OPR\/([0-6].)/g),_=u&&33>parseInt(u[0].split("/")[1],10),d=-1!==s.indexOf("Safari")&&-1===s.indexOf("Chrome"),l=s.match(/Version\/(.*?) /),c=d&&l&&15>parseInt(l[1],10);return e._codecs={mp3:!!(!_&&(i||r.canPlayType("audio/mp3;").replace(/^no$/,""))),mpeg:!!i,opus:!!r.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!r.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!r.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!(r.canPlayType('audio/wav; codecs="1"')||r.canPlayType("audio/wav")).replace(/^no$/,""),aac:!!r.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!r.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(r.canPlayType("audio/x-m4a;")||r.canPlayType("audio/m4a;")||r.canPlayType("audio/aac;")).replace(/^no$/,""),m4b:!!(r.canPlayType("audio/x-m4b;")||r.canPlayType("audio/m4b;")||r.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(r.canPlayType("audio/x-mp4;")||r.canPlayType("audio/mp4;")||r.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!!(!c&&r.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),webm:!!(!c&&r.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),dolby:!!r.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,""),flac:!!(r.canPlayType("audio/x-flac;")||r.canPlayType("audio/flac;")).replace(/^no$/,"")},e},_unlockAudio:function(){var e=this||a;if(!(e._audioUnlocked||!e.ctx)){e._audioUnlocked=!1,e.autoUnlock=!1,e._mobileUnloaded||44100===e.ctx.sampleRate||(e._mobileUnloaded=!0,e.unload()),e._scratchBuffer=e.ctx.createBuffer(1,1,22050);var t=function(r){for(;e._html5AudioPool.length<e.html5PoolSize;)try{var i=new Audio;i._unlocked=!0,e._releaseHtml5Audio(i)}catch{e.noAudio=!0;break}for(var a=0;a<e._howls.length;a++)if(!e._howls[a]._webAudio)for(var s=e._howls[a]._getSoundIds(),u=0;u<s.length;u++){var _=e._howls[a]._soundById(s[u]);_&&_._node&&!_._node._unlocked&&(_._node._unlocked=!0,_._node.load())}e._autoResume();var d=e.ctx.createBufferSource();d.buffer=e._scratchBuffer,d.connect(e.ctx.destination),typeof d.start>"u"?d.noteOn(0):d.start(0),"function"==typeof e.ctx.resume&&e.ctx.resume(),d.onended=function(){d.disconnect(0),e._audioUnlocked=!0,document.removeEventListener("touchstart",t,!0),document.removeEventListener("touchend",t,!0),document.removeEventListener("click",t,!0),document.removeEventListener("keydown",t,!0);for(var r=0;r<e._howls.length;r++)e._howls[r]._emit("unlock")}};return document.addEventListener("touchstart",t,!0),document.addEventListener("touchend",t,!0),document.addEventListener("click",t,!0),document.addEventListener("keydown",t,!0),e}},_obtainHtml5Audio:function(){var e=this||a;if(e._html5AudioPool.length)return e._html5AudioPool.pop();var r=new Audio().play();return r&&"u">typeof Promise&&(r instanceof Promise||"function"==typeof r.then)&&r.catch(function(){console.warn("HTML5 Audio pool exhausted, returning potentially locked audio object.")}),new Audio},_releaseHtml5Audio:function(e){var r=this||a;return e._unlocked&&r._html5AudioPool.push(e),r},_autoSuspend:function(){var e=this;if(!(!e.autoSuspend||!e.ctx||typeof e.ctx.suspend>"u"||!a.usingWebAudio)){for(var r=0;r<e._howls.length;r++)if(e._howls[r]._webAudio){for(var i=0;i<e._howls[r]._sounds.length;i++)if(!e._howls[r]._sounds[i]._paused)return e}return e._suspendTimer&&clearTimeout(e._suspendTimer),e._suspendTimer=setTimeout(function(){if(e.autoSuspend){e._suspendTimer=null,e.state="suspending";var o=function(){e.state="suspended",e._resumeAfterSuspend&&(delete e._resumeAfterSuspend,e._autoResume())};e.ctx.suspend().then(o,o)}},3e4),e}},_autoResume:function(){var e=this;if(!(!e.ctx||typeof e.ctx.resume>"u"||!a.usingWebAudio))return"running"===e.state&&"interrupted"!==e.ctx.state&&e._suspendTimer?(clearTimeout(e._suspendTimer),e._suspendTimer=null):"suspended"===e.state||"running"===e.state&&"interrupted"===e.ctx.state?(e.ctx.resume().then(function(){e.state="running";for(var r=0;r<e._howls.length;r++)e._howls[r]._emit("resume")}),e._suspendTimer&&(clearTimeout(e._suspendTimer),e._suspendTimer=null)):"suspending"===e.state&&(e._resumeAfterSuspend=!0),e}},a=new r,(s=function(e){if(!e.src||0===e.src.length){console.error("An array of source files must be passed with any new Howl.");return}this.init(e)}).prototype={init:function(e){var r=this;return a.ctx||f(),r._autoplay=e.autoplay||!1,r._format="string"!=typeof e.format?e.format:[e.format],r._html5=e.html5||!1,r._muted=e.mute||!1,r._loop=e.loop||!1,r._pool=e.pool||5,r._preload="boolean"!=typeof e.preload&&"metadata"!==e.preload||e.preload,r._rate=e.rate||1,r._sprite=e.sprite||{},r._src="string"!=typeof e.src?e.src:[e.src],r._volume=void 0!==e.volume?e.volume:1,r._xhr={method:e.xhr&&e.xhr.method?e.xhr.method:"GET",headers:e.xhr&&e.xhr.headers?e.xhr.headers:null,withCredentials:!!e.xhr&&!!e.xhr.withCredentials&&e.xhr.withCredentials},r._duration=0,r._state="unloaded",r._sounds=[],r._endTimers={},r._queue=[],r._playLock=!1,r._onend=e.onend?[{fn:e.onend}]:[],r._onfade=e.onfade?[{fn:e.onfade}]:[],r._onload=e.onload?[{fn:e.onload}]:[],r._onloaderror=e.onloaderror?[{fn:e.onloaderror}]:[],r._onplayerror=e.onplayerror?[{fn:e.onplayerror}]:[],r._onpause=e.onpause?[{fn:e.onpause}]:[],r._onplay=e.onplay?[{fn:e.onplay}]:[],r._onstop=e.onstop?[{fn:e.onstop}]:[],r._onmute=e.onmute?[{fn:e.onmute}]:[],r._onvolume=e.onvolume?[{fn:e.onvolume}]:[],r._onrate=e.onrate?[{fn:e.onrate}]:[],r._onseek=e.onseek?[{fn:e.onseek}]:[],r._onunlock=e.onunlock?[{fn:e.onunlock}]:[],r._onresume=[],r._webAudio=a.usingWebAudio&&!r._html5,"u">typeof a.ctx&&a.ctx&&a.autoUnlock&&a._unlockAudio(),a._howls.push(r),r._autoplay&&r._queue.push({event:"play",action:function(){r.play()}}),r._preload&&"none"!==r._preload&&r.load(),r},load:function(){var e,r,i=null;if(a.noAudio){this._emit("loaderror",null,"No audio support.");return}"string"==typeof this._src&&(this._src=[this._src]);for(var s=0;s<this._src.length;s++){if(this._format&&this._format[s])e=this._format[s];else{if("string"!=typeof(r=this._src[s])){this._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}(e=/^data:audio\/([^;,]+);/i.exec(r))||(e=/\.([^.]+)$/.exec(r.split("?",1)[0])),e&&(e=e[1].toLowerCase())}if(e||console.warn('No file extension was found. Consider using the "format" property or specify an extension.'),e&&a.codecs(e)){i=this._src[s];break}}if(!i){this._emit("loaderror",null,"No codec support for selected audio sources.");return}return this._src=i,this._state="loading","https:"===window.location.protocol&&"http:"===i.slice(0,5)&&(this._html5=!0,this._webAudio=!1),new u(this),this._webAudio&&d(this),this},play:function(e,r){var i=this,s=null;if("number"==typeof e)s=e,e=null;else{if("string"==typeof e&&"loaded"===i._state&&!i._sprite[e])return null;if(typeof e>"u"&&(e="__default",!i._playLock)){for(var u=0,_=0;_<i._sounds.length;_++)i._sounds[_]._paused&&!i._sounds[_]._ended&&(u++,s=i._sounds[_]._id);1===u?e=null:s=null}}var d=s?i._soundById(s):i._inactiveSound();if(!d)return null;if(s&&!e&&(e=d._sprite||"__default"),"loaded"!==i._state){d._sprite=e,d._ended=!1;var l=d._id;return i._queue.push({event:"play",action:function(){i.play(l)}}),l}if(s&&!d._paused)return r||i._loadQueue("play"),d._id;i._webAudio&&a._autoResume();var c=Math.max(0,d._seek>0?d._seek:i._sprite[e][0]/1e3),p=Math.max(0,(i._sprite[e][0]+i._sprite[e][1])/1e3-c),f=1e3*p/Math.abs(d._rate),h=i._sprite[e][0]/1e3,v=(i._sprite[e][0]+i._sprite[e][1])/1e3;d._sprite=e,d._ended=!1;var k=function(){d._paused=!1,d._seek=c,d._start=h,d._stop=v,d._loop=!!(d._loop||i._sprite[e][2])};if(c>=v){i._ended(d);return}var A=d._node;if(i._webAudio){var I=function(){i._playLock=!1,k(),i._refreshBuffer(d);var e=d._muted||i._muted?0:d._volume;A.gain.setValueAtTime(e,a.ctx.currentTime),d._playStart=a.ctx.currentTime,typeof A.bufferSource.start>"u"?d._loop?A.bufferSource.noteGrainOn(0,c,86400):A.bufferSource.noteGrainOn(0,c,p):d._loop?A.bufferSource.start(0,c,86400):A.bufferSource.start(0,c,p),f!==1/0&&(i._endTimers[d._id]=setTimeout(i._ended.bind(i,d),f)),r||setTimeout(function(){i._emit("play",d._id),i._loadQueue()},0)};"running"===a.state&&"interrupted"!==a.ctx.state?I():(i._playLock=!0,i.once("resume",I),i._clearTimer(d._id))}else{var H=function(){A.currentTime=c,A.muted=d._muted||i._muted||a._muted||A.muted,A.volume=d._volume*a.volume(),A.playbackRate=d._rate;try{var s=A.play();if(s&&"u">typeof Promise&&(s instanceof Promise||"function"==typeof s.then)?(i._playLock=!0,k(),s.then(function(){i._playLock=!1,A._unlocked=!0,r?i._loadQueue():i._emit("play",d._id)}).catch(function(){i._playLock=!1,i._emit("playerror",d._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction."),d._ended=!0,d._paused=!0})):r||(i._playLock=!1,k(),i._emit("play",d._id)),A.playbackRate=d._rate,A.paused){i._emit("playerror",d._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");return}"__default"!==e||d._loop?i._endTimers[d._id]=setTimeout(i._ended.bind(i,d),f):(i._endTimers[d._id]=function(){i._ended(d),A.removeEventListener("ended",i._endTimers[d._id],!1)},A.addEventListener("ended",i._endTimers[d._id],!1))}catch(e){i._emit("playerror",d._id,e)}};"data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA"===A.src&&(A.src=i._src,A.load());var g=window&&window.ejecta||!A.readyState&&a._navigator.isCocoonJS;if(A.readyState>=3||g)H();else{i._playLock=!0,i._state="loading";var O=function(){i._state="loaded",H(),A.removeEventListener(a._canPlayEvent,O,!1)};A.addEventListener(a._canPlayEvent,O,!1),i._clearTimer(d._id)}}return d._id},pause:function(e){var r=this;if("loaded"!==r._state||r._playLock)return r._queue.push({event:"pause",action:function(){r.pause(e)}}),r;for(var i=r._getSoundIds(e),a=0;a<i.length;a++){r._clearTimer(i[a]);var s=r._soundById(i[a]);if(s&&!s._paused&&(s._seek=r.seek(i[a]),s._rateSeek=0,s._paused=!0,r._stopFade(i[a]),s._node)){if(r._webAudio){if(!s._node.bufferSource)continue;typeof s._node.bufferSource.stop>"u"?s._node.bufferSource.noteOff(0):s._node.bufferSource.stop(0),r._cleanBuffer(s._node)}else isNaN(s._node.duration)&&s._node.duration!==1/0||s._node.pause()}arguments[1]||r._emit("pause",s?s._id:null)}return r},stop:function(e,r){var i=this;if("loaded"!==i._state||i._playLock)return i._queue.push({event:"stop",action:function(){i.stop(e)}}),i;for(var a=i._getSoundIds(e),s=0;s<a.length;s++){i._clearTimer(a[s]);var u=i._soundById(a[s]);u&&(u._seek=u._start||0,u._rateSeek=0,u._paused=!0,u._ended=!0,i._stopFade(a[s]),u._node&&(i._webAudio?u._node.bufferSource&&(typeof u._node.bufferSource.stop>"u"?u._node.bufferSource.noteOff(0):u._node.bufferSource.stop(0),i._cleanBuffer(u._node)):isNaN(u._node.duration)&&u._node.duration!==1/0||(u._node.currentTime=u._start||0,u._node.pause(),u._node.duration===1/0&&i._clearSound(u._node))),r||i._emit("stop",u._id))}return i},mute:function(e,r){var i=this;if("loaded"!==i._state||i._playLock)return i._queue.push({event:"mute",action:function(){i.mute(e,r)}}),i;if(typeof r>"u"){if("boolean"!=typeof e)return i._muted;i._muted=e}for(var s=i._getSoundIds(r),u=0;u<s.length;u++){var _=i._soundById(s[u]);_&&(_._muted=e,_._interval&&i._stopFade(_._id),i._webAudio&&_._node?_._node.gain.setValueAtTime(e?0:_._volume,a.ctx.currentTime):_._node&&(_._node.muted=!!a._muted||e),i._emit("mute",_._id))}return i},volume:function(){var e,r,i,s=this,u=arguments;if(0===u.length)return s._volume;if(1===u.length||2===u.length&&typeof u[1]>"u"?s._getSoundIds().indexOf(u[0])>=0?i=parseInt(u[0],10):r=parseFloat(u[0]):u.length>=2&&(r=parseFloat(u[0]),i=parseInt(u[1],10)),!("u">typeof r)||!(r>=0)||!(r<=1))return(e=i?s._soundById(i):s._sounds[0])?e._volume:0;if("loaded"!==s._state||s._playLock)return s._queue.push({event:"volume",action:function(){s.volume.apply(s,u)}}),s;typeof i>"u"&&(s._volume=r),i=s._getSoundIds(i);for(var _=0;_<i.length;_++)(e=s._soundById(i[_]))&&(e._volume=r,u[2]||s._stopFade(i[_]),s._webAudio&&e._node&&!e._muted?e._node.gain.setValueAtTime(r,a.ctx.currentTime):e._node&&!e._muted&&(e._node.volume=r*a.volume()),s._emit("volume",e._id));return s},fade:function(e,r,i,s){var u=this;if("loaded"!==u._state||u._playLock)return u._queue.push({event:"fade",action:function(){u.fade(e,r,i,s)}}),u;e=Math.min(Math.max(0,parseFloat(e)),1),r=Math.min(Math.max(0,parseFloat(r)),1),i=parseFloat(i),u.volume(e,s);for(var _=u._getSoundIds(s),d=0;d<_.length;d++){var l=u._soundById(_[d]);if(l){if(s||u._stopFade(_[d]),u._webAudio&&!l._muted){var c=a.ctx.currentTime,p=c+i/1e3;l._volume=e,l._node.gain.setValueAtTime(e,c),l._node.gain.linearRampToValueAtTime(r,p)}u._startFadeInterval(l,e,r,i,_[d],typeof s>"u")}}return u},_startFadeInterval:function(e,r,i,a,s,u){var _=this,d=r,l=i-r,c=Math.abs(l/.01),p=Date.now();e._fadeTo=i,e._interval=setInterval(function(){var s=(Date.now()-p)/a;p=Date.now(),d+=l*s,d=Math.round(100*d)/100,d=l<0?Math.max(i,d):Math.min(i,d),_._webAudio?e._volume=d:_.volume(d,e._id,!0),u&&(_._volume=d),(i<r&&d<=i||i>r&&d>=i)&&(clearInterval(e._interval),e._interval=null,e._fadeTo=null,_.volume(i,e._id),_._emit("fade",e._id))},Math.max(4,c>0?a/c:a))},_stopFade:function(e){var r=this._soundById(e);return r&&r._interval&&(this._webAudio&&r._node.gain.cancelScheduledValues(a.ctx.currentTime),clearInterval(r._interval),r._interval=null,this.volume(r._fadeTo,e),r._fadeTo=null,this._emit("fade",e)),this},loop:function(){var e,r,i,a=arguments;if(0===a.length)return this._loop;if(1===a.length){if("boolean"!=typeof a[0])return!!(i=this._soundById(parseInt(a[0],10)))&&i._loop;e=a[0],this._loop=e}else 2===a.length&&(e=a[0],r=parseInt(a[1],10));for(var s=this._getSoundIds(r),u=0;u<s.length;u++)(i=this._soundById(s[u]))&&(i._loop=e,this._webAudio&&i._node&&i._node.bufferSource&&(i._node.bufferSource.loop=e,e&&(i._node.bufferSource.loopStart=i._start||0,i._node.bufferSource.loopEnd=i._stop,this.playing(s[u])&&(this.pause(s[u],!0),this.play(s[u],!0)))));return this},rate:function(){var e,r,i,s=this,u=arguments;if(0===u.length?i=s._sounds[0]._id:1===u.length?s._getSoundIds().indexOf(u[0])>=0?i=parseInt(u[0],10):r=parseFloat(u[0]):2===u.length&&(r=parseFloat(u[0]),i=parseInt(u[1],10)),"number"!=typeof r)return(e=s._soundById(i))?e._rate:s._rate;if("loaded"!==s._state||s._playLock)return s._queue.push({event:"rate",action:function(){s.rate.apply(s,u)}}),s;typeof i>"u"&&(s._rate=r),i=s._getSoundIds(i);for(var _=0;_<i.length;_++)if(e=s._soundById(i[_])){s.playing(i[_])&&(e._rateSeek=s.seek(i[_]),e._playStart=s._webAudio?a.ctx.currentTime:e._playStart),e._rate=r,s._webAudio&&e._node&&e._node.bufferSource?e._node.bufferSource.playbackRate.setValueAtTime(r,a.ctx.currentTime):e._node&&(e._node.playbackRate=r);var d=s.seek(i[_]),l=1e3*((s._sprite[e._sprite][0]+s._sprite[e._sprite][1])/1e3-d)/Math.abs(e._rate);(s._endTimers[i[_]]||!e._paused)&&(s._clearTimer(i[_]),s._endTimers[i[_]]=setTimeout(s._ended.bind(s,e),l)),s._emit("rate",e._id)}return s},seek:function(){var e,r,i=this,s=arguments;if(0===s.length?i._sounds.length&&(r=i._sounds[0]._id):1===s.length?i._getSoundIds().indexOf(s[0])>=0?r=parseInt(s[0],10):i._sounds.length&&(r=i._sounds[0]._id,e=parseFloat(s[0])):2===s.length&&(e=parseFloat(s[0]),r=parseInt(s[1],10)),typeof r>"u")return 0;if("number"==typeof e&&("loaded"!==i._state||i._playLock))return i._queue.push({event:"seek",action:function(){i.seek.apply(i,s)}}),i;var u=i._soundById(r);if(u){if("number"==typeof e&&e>=0){var _=i.playing(r);_&&i.pause(r,!0),u._seek=e,u._ended=!1,i._clearTimer(r),i._webAudio||!u._node||isNaN(u._node.duration)||(u._node.currentTime=e);var m=function(){_&&i.play(r,!0),i._emit("seek",r)};if(_&&!i._webAudio){var y=function(){i._playLock?setTimeout(y,0):m()};setTimeout(y,0)}else m()}else{if(!i._webAudio)return u._node.currentTime;var d=i.playing(r)?a.ctx.currentTime-u._playStart:0,l=u._rateSeek?u._rateSeek-u._seek:0;return u._seek+(l+d*Math.abs(u._rate))}}return i},playing:function(e){if("number"==typeof e){var r=this._soundById(e);return!!r&&!r._paused}for(var i=0;i<this._sounds.length;i++)if(!this._sounds[i]._paused)return!0;return!1},duration:function(e){var r=this._duration,i=this._soundById(e);return i&&(r=this._sprite[i._sprite][1]/1e3),r},state:function(){return this._state},unload:function(){for(var e=this,r=e._sounds,i=0;i<r.length;i++)r[i]._paused||e.stop(r[i]._id),e._webAudio||(e._clearSound(r[i]._node),r[i]._node.removeEventListener("error",r[i]._errorFn,!1),r[i]._node.removeEventListener(a._canPlayEvent,r[i]._loadFn,!1),r[i]._node.removeEventListener("ended",r[i]._endFn,!1),a._releaseHtml5Audio(r[i]._node)),delete r[i]._node,e._clearTimer(r[i]._id);var s=a._howls.indexOf(e);s>=0&&a._howls.splice(s,1);var u=!0;for(i=0;i<a._howls.length;i++)if(a._howls[i]._src===e._src||e._src.indexOf(a._howls[i]._src)>=0){u=!1;break}return _&&u&&delete _[e._src],a.noAudio=!1,e._state="unloaded",e._sounds=[],e=null,null},on:function(e,r,i,a){var s=this["_on"+e];return"function"==typeof r&&s.push(a?{id:i,fn:r,once:a}:{id:i,fn:r}),this},off:function(e,r,i){var a=this["_on"+e],s=0;if("number"==typeof r&&(i=r,r=null),r||i)for(s=0;s<a.length;s++){var u=i===a[s].id;if(r===a[s].fn&&u||!r&&u){a.splice(s,1);break}}else if(e)this["_on"+e]=[];else{var _=Object.keys(this);for(s=0;s<_.length;s++)0===_[s].indexOf("_on")&&Array.isArray(this[_[s]])&&(this[_[s]]=[])}return this},once:function(e,r,i){return this.on(e,r,i,1),this},_emit:function(e,r,i){for(var a=this["_on"+e],s=a.length-1;s>=0;s--)(!a[s].id||a[s].id===r||"load"===e)&&(setTimeout((function(e){e.call(this,r,i)}).bind(this,a[s].fn),0),a[s].once&&this.off(e,a[s].fn,a[s].id));return this._loadQueue(e),this},_loadQueue:function(e){if(this._queue.length>0){var r=this._queue[0];r.event===e&&(this._queue.shift(),this._loadQueue()),e||r.action()}return this},_ended:function(e){var r=e._sprite;if(!this._webAudio&&e._node&&!e._node.paused&&!e._node.ended&&e._node.currentTime<e._stop)return setTimeout(this._ended.bind(this,e),100),this;var i=!!(e._loop||this._sprite[r][2]);if(this._emit("end",e._id),!this._webAudio&&i&&this.stop(e._id,!0).play(e._id),this._webAudio&&i){this._emit("play",e._id),e._seek=e._start||0,e._rateSeek=0,e._playStart=a.ctx.currentTime;var s=(e._stop-e._start)*1e3/Math.abs(e._rate);this._endTimers[e._id]=setTimeout(this._ended.bind(this,e),s)}return this._webAudio&&!i&&(e._paused=!0,e._ended=!0,e._seek=e._start||0,e._rateSeek=0,this._clearTimer(e._id),this._cleanBuffer(e._node),a._autoSuspend()),this._webAudio||i||this.stop(e._id,!0),this},_clearTimer:function(e){if(this._endTimers[e]){if("function"!=typeof this._endTimers[e])clearTimeout(this._endTimers[e]);else{var r=this._soundById(e);r&&r._node&&r._node.removeEventListener("ended",this._endTimers[e],!1)}delete this._endTimers[e]}return this},_soundById:function(e){for(var r=0;r<this._sounds.length;r++)if(e===this._sounds[r]._id)return this._sounds[r];return null},_inactiveSound:function(){this._drain();for(var e=0;e<this._sounds.length;e++)if(this._sounds[e]._ended)return this._sounds[e].reset();return new u(this)},_drain:function(){var e=this._pool,r=0,i=0;if(!(this._sounds.length<e)){for(i=0;i<this._sounds.length;i++)this._sounds[i]._ended&&r++;for(i=this._sounds.length-1;i>=0;i--){if(r<=e)return;this._sounds[i]._ended&&(this._webAudio&&this._sounds[i]._node&&this._sounds[i]._node.disconnect(0),this._sounds.splice(i,1),r--)}}},_getSoundIds:function(e){if(!(typeof e>"u"))return[e];for(var r=[],i=0;i<this._sounds.length;i++)r.push(this._sounds[i]._id);return r},_refreshBuffer:function(e){return e._node.bufferSource=a.ctx.createBufferSource(),e._node.bufferSource.buffer=_[this._src],e._panner?e._node.bufferSource.connect(e._panner):e._node.bufferSource.connect(e._node),e._node.bufferSource.loop=e._loop,e._loop&&(e._node.bufferSource.loopStart=e._start||0,e._node.bufferSource.loopEnd=e._stop||0),e._node.bufferSource.playbackRate.setValueAtTime(e._rate,a.ctx.currentTime),this},_cleanBuffer:function(e){var r=a._navigator&&a._navigator.vendor.indexOf("Apple")>=0;if(a._scratchBuffer&&e.bufferSource&&(e.bufferSource.onended=null,e.bufferSource.disconnect(0),r))try{e.bufferSource.buffer=a._scratchBuffer}catch{}return e.bufferSource=null,this},_clearSound:function(e){/MSIE |Trident\//.test(a._navigator&&a._navigator.userAgent)||(e.src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA")}},(u=function(e){this._parent=e,this.init()}).prototype={init:function(){var e=this._parent;return this._muted=e._muted,this._loop=e._loop,this._volume=e._volume,this._rate=e._rate,this._seek=0,this._paused=!0,this._ended=!0,this._sprite="__default",this._id=++a._counter,e._sounds.push(this),this.create(),this},create:function(){var e=this._parent,r=a._muted||this._muted||this._parent._muted?0:this._volume;return e._webAudio?(this._node=typeof a.ctx.createGain>"u"?a.ctx.createGainNode():a.ctx.createGain(),this._node.gain.setValueAtTime(r,a.ctx.currentTime),this._node.paused=!0,this._node.connect(a.masterGain)):a.noAudio||(this._node=a._obtainHtml5Audio(),this._errorFn=this._errorListener.bind(this),this._node.addEventListener("error",this._errorFn,!1),this._loadFn=this._loadListener.bind(this),this._node.addEventListener(a._canPlayEvent,this._loadFn,!1),this._endFn=this._endListener.bind(this),this._node.addEventListener("ended",this._endFn,!1),this._node.src=e._src,this._node.preload=!0===e._preload?"auto":e._preload,this._node.volume=r*a.volume(),this._node.load()),this},reset:function(){var e=this._parent;return this._muted=e._muted,this._loop=e._loop,this._volume=e._volume,this._rate=e._rate,this._seek=0,this._rateSeek=0,this._paused=!0,this._ended=!0,this._sprite="__default",this._id=++a._counter,this},_errorListener:function(){this._parent._emit("loaderror",this._id,this._node.error?this._node.error.code:0),this._node.removeEventListener("error",this._errorFn,!1)},_loadListener:function(){var e=this._parent;e._duration=Math.ceil(10*this._node.duration)/10,0===Object.keys(e._sprite).length&&(e._sprite={__default:[0,1e3*e._duration]}),"loaded"!==e._state&&(e._state="loaded",e._emit("load"),e._loadQueue()),this._node.removeEventListener(a._canPlayEvent,this._loadFn,!1)},_endListener:function(){var e=this._parent;e._duration===1/0&&(e._duration=Math.ceil(10*this._node.duration)/10,e._sprite.__default[1]===1/0&&(e._sprite.__default[1]=1e3*e._duration),e._ended(this)),this._node.removeEventListener("ended",this._endFn,!1)}},_={},d=function(e){var r=e._src;if(_[r]){e._duration=_[r].duration,p(e);return}if(/^data:[^;]+;base64,/.test(r)){for(var i=atob(r.split(",")[1]),a=new Uint8Array(i.length),s=0;s<i.length;++s)a[s]=i.charCodeAt(s);c(a.buffer,e)}else{var u=new XMLHttpRequest;u.open(e._xhr.method,r,!0),u.withCredentials=e._xhr.withCredentials,u.responseType="arraybuffer",e._xhr.headers&&Object.keys(e._xhr.headers).forEach(function(r){u.setRequestHeader(r,e._xhr.headers[r])}),u.onload=function(){var r=(u.status+"")[0];if("0"!==r&&"2"!==r&&"3"!==r){e._emit("loaderror",null,"Failed loading audio file with status: "+u.status+".");return}c(u.response,e)},u.onerror=function(){e._webAudio&&(e._html5=!0,e._webAudio=!1,e._sounds=[],delete _[r],e.load())},l(u)}},l=function(e){try{e.send()}catch{e.onerror()}},c=function(e,r){var n=function(){r._emit("loaderror",null,"Decoding audio data failed.")},o=function(e){e&&r._sounds.length>0?(_[r._src]=e,p(r,e)):n()};"u">typeof Promise&&1===a.ctx.decodeAudioData.length?a.ctx.decodeAudioData(e).then(o).catch(n):a.ctx.decodeAudioData(e,o,n)},p=function(e,r){r&&!e._duration&&(e._duration=r.duration),0===Object.keys(e._sprite).length&&(e._sprite={__default:[0,1e3*e._duration]}),"loaded"!==e._state&&(e._state="loaded",e._emit("load"),e._loadQueue())},f=function(){if(a.usingWebAudio){try{"u">typeof AudioContext?a.ctx=new AudioContext:"u">typeof webkitAudioContext?a.ctx=new webkitAudioContext:a.usingWebAudio=!1}catch{a.usingWebAudio=!1}a.ctx||(a.usingWebAudio=!1);var e=/iP(hone|od|ad)/.test(a._navigator&&a._navigator.platform),r=a._navigator&&a._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),i=r?parseInt(r[1],10):null;if(e&&i&&i<9){var s=/safari/.test(a._navigator&&a._navigator.userAgent.toLowerCase());a._navigator&&!s&&(a.usingWebAudio=!1)}a.usingWebAudio&&(a.masterGain=typeof a.ctx.createGain>"u"?a.ctx.createGainNode():a.ctx.createGain(),a.masterGain.gain.setValueAtTime(a._muted?0:a._volume,a.ctx.currentTime),a.masterGain.connect(a.ctx.destination)),a._setup()}},"function"==typeof define&&i.amdO&&define([],function(){return{Howler:a,Howl:s}}),"u">typeof e&&(e.Howler=a,e.Howl=s),"u">typeof i.g?(i.g.HowlerGlobal=r,i.g.Howler=a,i.g.Howl=s,i.g.Sound=u):"u">typeof window&&(window.HowlerGlobal=r,window.Howler=a,window.Howl=s,window.Sound=u),HowlerGlobal.prototype._pos=[0,0,0],HowlerGlobal.prototype._orientation=[0,0,-1,0,1,0],HowlerGlobal.prototype.stereo=function(e){if(!this.ctx||!this.ctx.listener)return this;for(var r=this._howls.length-1;r>=0;r--)this._howls[r].stereo(e);return this},HowlerGlobal.prototype.pos=function(e,r,i){return this.ctx&&this.ctx.listener?(r="number"!=typeof r?this._pos[1]:r,i="number"!=typeof i?this._pos[2]:i,"number"!=typeof e)?this._pos:(this._pos=[e,r,i],"u">typeof this.ctx.listener.positionX?(this.ctx.listener.positionX.setTargetAtTime(this._pos[0],Howler.ctx.currentTime,.1),this.ctx.listener.positionY.setTargetAtTime(this._pos[1],Howler.ctx.currentTime,.1),this.ctx.listener.positionZ.setTargetAtTime(this._pos[2],Howler.ctx.currentTime,.1)):this.ctx.listener.setPosition(this._pos[0],this._pos[1],this._pos[2]),this):this},HowlerGlobal.prototype.orientation=function(e,r,i,a,s,u){if(!this.ctx||!this.ctx.listener)return this;var _=this._orientation;return(r="number"!=typeof r?_[1]:r,i="number"!=typeof i?_[2]:i,a="number"!=typeof a?_[3]:a,s="number"!=typeof s?_[4]:s,u="number"!=typeof u?_[5]:u,"number"!=typeof e)?_:(this._orientation=[e,r,i,a,s,u],"u">typeof this.ctx.listener.forwardX?(this.ctx.listener.forwardX.setTargetAtTime(e,Howler.ctx.currentTime,.1),this.ctx.listener.forwardY.setTargetAtTime(r,Howler.ctx.currentTime,.1),this.ctx.listener.forwardZ.setTargetAtTime(i,Howler.ctx.currentTime,.1),this.ctx.listener.upX.setTargetAtTime(a,Howler.ctx.currentTime,.1),this.ctx.listener.upY.setTargetAtTime(s,Howler.ctx.currentTime,.1),this.ctx.listener.upZ.setTargetAtTime(u,Howler.ctx.currentTime,.1)):this.ctx.listener.setOrientation(e,r,i,a,s,u),this)},Howl.prototype.init=(h=Howl.prototype.init,function(e){return this._orientation=e.orientation||[1,0,0],this._stereo=e.stereo||null,this._pos=e.pos||null,this._pannerAttr={coneInnerAngle:"u">typeof e.coneInnerAngle?e.coneInnerAngle:360,coneOuterAngle:"u">typeof e.coneOuterAngle?e.coneOuterAngle:360,coneOuterGain:"u">typeof e.coneOuterGain?e.coneOuterGain:0,distanceModel:"u">typeof e.distanceModel?e.distanceModel:"inverse",maxDistance:"u">typeof e.maxDistance?e.maxDistance:1e4,panningModel:"u">typeof e.panningModel?e.panningModel:"HRTF",refDistance:"u">typeof e.refDistance?e.refDistance:1,rolloffFactor:"u">typeof e.rolloffFactor?e.rolloffFactor:1},this._onstereo=e.onstereo?[{fn:e.onstereo}]:[],this._onpos=e.onpos?[{fn:e.onpos}]:[],this._onorientation=e.onorientation?[{fn:e.onorientation}]:[],h.call(this,e)}),Howl.prototype.stereo=function(e,r){var i=this;if(!i._webAudio)return i;if("loaded"!==i._state)return i._queue.push({event:"stereo",action:function(){i.stereo(e,r)}}),i;var a=typeof Howler.ctx.createStereoPanner>"u"?"spatial":"stereo";if(typeof r>"u"){if("number"!=typeof e)return i._stereo;i._stereo=e,i._pos=[e,0,0]}for(var s=i._getSoundIds(r),u=0;u<s.length;u++){var _=i._soundById(s[u]);if(_){if("number"!=typeof e)return _._stereo;_._stereo=e,_._pos=[e,0,0],_._node&&(_._pannerAttr.panningModel="equalpower",_._panner&&_._panner.pan||g(_,a),"spatial"===a?"u">typeof _._panner.positionX?(_._panner.positionX.setValueAtTime(e,Howler.ctx.currentTime),_._panner.positionY.setValueAtTime(0,Howler.ctx.currentTime),_._panner.positionZ.setValueAtTime(0,Howler.ctx.currentTime)):_._panner.setPosition(e,0,0):_._panner.pan.setValueAtTime(e,Howler.ctx.currentTime)),i._emit("stereo",_._id)}}return i},Howl.prototype.pos=function(e,r,i,a){var s=this;if(!s._webAudio)return s;if("loaded"!==s._state)return s._queue.push({event:"pos",action:function(){s.pos(e,r,i,a)}}),s;if(r="number"!=typeof r?0:r,i="number"!=typeof i?-.5:i,typeof a>"u"){if("number"!=typeof e)return s._pos;s._pos=[e,r,i]}for(var u=s._getSoundIds(a),_=0;_<u.length;_++){var d=s._soundById(u[_]);if(d){if("number"!=typeof e)return d._pos;d._pos=[e,r,i],d._node&&((!d._panner||d._panner.pan)&&g(d,"spatial"),"u">typeof d._panner.positionX?(d._panner.positionX.setValueAtTime(e,Howler.ctx.currentTime),d._panner.positionY.setValueAtTime(r,Howler.ctx.currentTime),d._panner.positionZ.setValueAtTime(i,Howler.ctx.currentTime)):d._panner.setPosition(e,r,i)),s._emit("pos",d._id)}}return s},Howl.prototype.orientation=function(e,r,i,a){var s=this;if(!s._webAudio)return s;if("loaded"!==s._state)return s._queue.push({event:"orientation",action:function(){s.orientation(e,r,i,a)}}),s;if(r="number"!=typeof r?s._orientation[1]:r,i="number"!=typeof i?s._orientation[2]:i,typeof a>"u"){if("number"!=typeof e)return s._orientation;s._orientation=[e,r,i]}for(var u=s._getSoundIds(a),_=0;_<u.length;_++){var d=s._soundById(u[_]);if(d){if("number"!=typeof e)return d._orientation;d._orientation=[e,r,i],d._node&&(d._panner||(d._pos||(d._pos=s._pos||[0,0,-.5]),g(d,"spatial")),"u">typeof d._panner.orientationX?(d._panner.orientationX.setValueAtTime(e,Howler.ctx.currentTime),d._panner.orientationY.setValueAtTime(r,Howler.ctx.currentTime),d._panner.orientationZ.setValueAtTime(i,Howler.ctx.currentTime)):d._panner.setOrientation(e,r,i)),s._emit("orientation",d._id)}}return s},Howl.prototype.pannerAttr=function(){var e,r,i,a=arguments;if(!this._webAudio)return this;if(0===a.length)return this._pannerAttr;if(1===a.length){if("object"!=typeof a[0])return(i=this._soundById(parseInt(a[0],10)))?i._pannerAttr:this._pannerAttr;e=a[0],typeof r>"u"&&(e.pannerAttr||(e.pannerAttr={coneInnerAngle:e.coneInnerAngle,coneOuterAngle:e.coneOuterAngle,coneOuterGain:e.coneOuterGain,distanceModel:e.distanceModel,maxDistance:e.maxDistance,refDistance:e.refDistance,rolloffFactor:e.rolloffFactor,panningModel:e.panningModel}),this._pannerAttr={coneInnerAngle:"u">typeof e.pannerAttr.coneInnerAngle?e.pannerAttr.coneInnerAngle:this._coneInnerAngle,coneOuterAngle:"u">typeof e.pannerAttr.coneOuterAngle?e.pannerAttr.coneOuterAngle:this._coneOuterAngle,coneOuterGain:"u">typeof e.pannerAttr.coneOuterGain?e.pannerAttr.coneOuterGain:this._coneOuterGain,distanceModel:"u">typeof e.pannerAttr.distanceModel?e.pannerAttr.distanceModel:this._distanceModel,maxDistance:"u">typeof e.pannerAttr.maxDistance?e.pannerAttr.maxDistance:this._maxDistance,refDistance:"u">typeof e.pannerAttr.refDistance?e.pannerAttr.refDistance:this._refDistance,rolloffFactor:"u">typeof e.pannerAttr.rolloffFactor?e.pannerAttr.rolloffFactor:this._rolloffFactor,panningModel:"u">typeof e.pannerAttr.panningModel?e.pannerAttr.panningModel:this._panningModel})}else 2===a.length&&(e=a[0],r=parseInt(a[1],10));for(var s=this._getSoundIds(r),u=0;u<s.length;u++)if(i=this._soundById(s[u])){var _=i._pannerAttr;_={coneInnerAngle:"u">typeof e.coneInnerAngle?e.coneInnerAngle:_.coneInnerAngle,coneOuterAngle:"u">typeof e.coneOuterAngle?e.coneOuterAngle:_.coneOuterAngle,coneOuterGain:"u">typeof e.coneOuterGain?e.coneOuterGain:_.coneOuterGain,distanceModel:"u">typeof e.distanceModel?e.distanceModel:_.distanceModel,maxDistance:"u">typeof e.maxDistance?e.maxDistance:_.maxDistance,refDistance:"u">typeof e.refDistance?e.refDistance:_.refDistance,rolloffFactor:"u">typeof e.rolloffFactor?e.rolloffFactor:_.rolloffFactor,panningModel:"u">typeof e.panningModel?e.panningModel:_.panningModel};var d=i._panner;d?(d.coneInnerAngle=_.coneInnerAngle,d.coneOuterAngle=_.coneOuterAngle,d.coneOuterGain=_.coneOuterGain,d.distanceModel=_.distanceModel,d.maxDistance=_.maxDistance,d.refDistance=_.refDistance,d.rolloffFactor=_.rolloffFactor,d.panningModel=_.panningModel):(i._pos||(i._pos=this._pos||[0,0,-.5]),g(i,"spatial"))}return this},Sound.prototype.init=(v=Sound.prototype.init,function(){var e=this._parent;this._orientation=e._orientation,this._stereo=e._stereo,this._pos=e._pos,this._pannerAttr=e._pannerAttr,v.call(this),this._stereo?e.stereo(this._stereo):this._pos&&e.pos(this._pos[0],this._pos[1],this._pos[2],this._id)}),Sound.prototype.reset=(A=Sound.prototype.reset,function(){var e=this._parent;return this._orientation=e._orientation,this._stereo=e._stereo,this._pos=e._pos,this._pannerAttr=e._pannerAttr,this._stereo?e.stereo(this._stereo):this._pos?e.pos(this._pos[0],this._pos[1],this._pos[2],this._id):this._panner&&(this._panner.disconnect(0),this._panner=void 0,e._refreshBuffer(this)),A.call(this)}),g=function(e,r){"spatial"===(r=r||"spatial")?(e._panner=Howler.ctx.createPanner(),e._panner.coneInnerAngle=e._pannerAttr.coneInnerAngle,e._panner.coneOuterAngle=e._pannerAttr.coneOuterAngle,e._panner.coneOuterGain=e._pannerAttr.coneOuterGain,e._panner.distanceModel=e._pannerAttr.distanceModel,e._panner.maxDistance=e._pannerAttr.maxDistance,e._panner.refDistance=e._pannerAttr.refDistance,e._panner.rolloffFactor=e._pannerAttr.rolloffFactor,e._panner.panningModel=e._pannerAttr.panningModel,"u">typeof e._panner.positionX?(e._panner.positionX.setValueAtTime(e._pos[0],Howler.ctx.currentTime),e._panner.positionY.setValueAtTime(e._pos[1],Howler.ctx.currentTime),e._panner.positionZ.setValueAtTime(e._pos[2],Howler.ctx.currentTime)):e._panner.setPosition(e._pos[0],e._pos[1],e._pos[2]),"u">typeof e._panner.orientationX?(e._panner.orientationX.setValueAtTime(e._orientation[0],Howler.ctx.currentTime),e._panner.orientationY.setValueAtTime(e._orientation[1],Howler.ctx.currentTime),e._panner.orientationZ.setValueAtTime(e._orientation[2],Howler.ctx.currentTime)):e._panner.setOrientation(e._orientation[0],e._orientation[1],e._orientation[2])):(e._panner=Howler.ctx.createStereoPanner(),e._panner.pan.setValueAtTime(e._stereo,Howler.ctx.currentTime)),e._panner.connect(e._node),e._paused||e._parent.pause(e._id,!0).play(e._id,!0)}}),u=(0,a.b)(s(),1),_=class{_howl;constructor({src:e}){this._howl=new u.Howl({src:e})}play(){return this._howl.play()}pause(){return this._howl.pause()}playing(){return this._howl.playing()}rate(){return this._howl.rate()}seek(){return this._howl.seek()}setVolume(){return this._howl.volume()}unload(){this._howl.unload()}}}}]);